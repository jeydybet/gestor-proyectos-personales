<div class="main-layout">
    <app-sidebar></app-sidebar> 

    <div class="content-area">
        <header class="header">
            <div class="app-title">Gestor de Proyectos Personales</div>
            
            <form class="search-form-header" (submit)="onSearchSubmit()">
                <input type="text" 
                       [formControl]="searchControl" 
                       placeholder="Buscar proyectos o tareas..." 
                       class="search-input">
                </form>

            <div class="user-actions">
                <span class="profile-icon">J</span> 
                <button (click)="onLogout()" class="logout-btn">
                    Cerrar Sesi√≥n
                </button>
            </div>
        </header>

        <main class="content-body">
            
            <div *ngIf="searchControl.value" class="search-results-container">
                <div *ngIf="searchControl.value.length >= 2" class="live-results">
                    <h3 *ngIf="searchControl.value.length >= 2">Resultados en vivo para: "{{ searchControl.value }}"</h3>
                    
                    <ul class="results-list">
                        <li *ngFor="let result of searchResults" class="result-item">
                            üîç {{ result.name }}
                        </li>
                    </ul>

                    <button 
                        (click)="onSearchSubmit()" 
                        class="btn-ver-todos">
                        Ver todos los resultados de la b√∫squeda
                    </button>

                    <div *ngIf="searchResults.length === 0" class="no-results">
                        No se encontraron coincidencias.
                    </div>
                </div>

                </div>

            <div *ngIf="!searchControl.value || !router.url.includes('/projects?q=')">
                <router-outlet></router-outlet> 
            </div>
            
        </main>
    </div>
</div>